# 教程
我们将构建一个简单却真实的评论框，你可以将它放入你的博客，类似于 disqus 、 livefyre 、 facebook 中实时评论框，包含一些基础功能。
我们将提供以下功能：
* 展示所有评论的界面
* 发布评论的表单
* 后端 API 接口地址，该接口需要自己实现

同时也包含一些简洁的特性：
* **发布评论的体验优化**： 评论在保存到服务器之前就展现在评论列表，因此感觉起来很快。
* **实时更新**： 其他用户的评论将会实时展示在评论框中。
* **Markdown 格式**： 用户可以使用 Markdown 语法来编辑评论文本。

### 想要跳过后续所有的内容，只看源代码？
[It's all on GitHub](https://github.com/reactjs/react-tutorial)
### 运行一个服务器
为了开始本教程，我们将需要一个运行的服务器，提供一个 API 接口，仅用于获取和保存评论数据。为了尽量简便，我们已经准备好了几种脚本语言开发的简单服务器程序，完成了我们需要的功能。你可以查看源码或者下载 zip 文件，里面包含了开始学习教程所需的所有东西。

为了简单，服务器将会使用一个`JSON`文件作为数据库。不能在生产环境中采用这种做法，但是这样做确实简化了模拟后端 API 的工作。一旦启动了这个服务器，它就能提供我们需要的 API 接口，同时也能生成并发送我们需要的页面。
### 开始学习
本教程会尽量简单。上述讨论提及的页面是一个 HTML 文件，它包含在服务器源码包中，我们先看看这个文件。使用你最喜欢的编辑器打开 `public/index.html`，看起来应该是这样：
```
<!-- index.html -->
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>React Tutorial</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/15.0.1/react.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/15.0.1/react-dom.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.23/browser.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/0.3.5/marked.min.js"></script>
  </head>
  <body>
    <div id="content"></div>
    <script type="text/babel" src="scripts/example.js"></script>
    <script type="text/babel">
      // To get started with this tutorial running your own code, simply remove
      // the script tag loading scripts/example.js and start writing code here.
    </script>
  </body>
</html>
```
在本教程的剩下部分，我们会在这个 script 标签中编写我们的 JavaScript 代码。我们没有任何高端的页面自动加载刷新工具，所以在修改了代码之后，需要手动刷新浏览器来查看变化。下面，启动服务器，在浏览器中打开 `http://localhost:3000`。在没对源码进行修改的前提下，第一次打开这个 URL 会看到我们计划构建的应用的一个最终样子。当你准备好开始往下学习的时候，只需要删掉上述代码中的 `<script>` 标签就可以了。

>**注意：**

>因为我们想简化 ajax 请求代码，所以在这里引入 jQuery，但是 React 并不依赖于 jQuery 。    

### 你的第一个组件
React 中全是模块化、可组装的组件。对于我们的评论框例子，我们将有如下的组件结构：
```
- CommentBox
  - CommentList
    - Comment
  - CommentForm
```
让我们构造 CommentBox 组件，它只是一个简单的 `<div>` ：
```
// tutorial1.js
var CommentBox = React.createClass({
  render: function() {
    return (
      <div className="commentBox">
        Hello, world! I am a CommentBox.
      </div>
    );
  }
});
ReactDOM.render(
  <CommentBox />,
  document.getElementById('content')
);
```
注意，原生 HTML 元素名以小写字母开头，而自定义的 React 类名以大写字母开头。
### JSX 语法
首先你注意到 JavaScript 代码中 XML 式的语法语句。我们有一个简单的预编译器，用于将这种语法糖转换成纯 JavaScript 代码：
```
// tutorial1-raw.js
var CommentBox = React.createClass({displayName: 'CommentBox',
  render: function() {
    return (
      React.createElement('div', {className: "commentBox"},
        "Hello, world! I am a CommentBox."
      )
    );
  }
});
ReactDOM.render(
  React.createElement(CommentBox, null),
  document.getElementById('content')
);
```
JSX 语法是可选的，但是我们发现 JSX 语句比纯 JavaScript 用起来更容易。更多内容请阅读[《 JSX 语法介绍》](https://facebook.github.io/react/docs/jsx-in-depth.html)。
### 发生了什么
我们通过 JavaScript 对象传递一些方法到 `React.createClass()` 来创建一个新的 React 组件。其中最重要的方法是 `render` ，该方法返回一棵 React 组件树，这棵树最终将会渲染成 HTML 。

这里的 `<div>` 标签不是真正的 DOM 节点；他们是 React div 组件的实例。你可以认为这些标签就是一些标记或者数据， React 知道如何处理它们。React 是安全的。我们不生成 HTML 字符串，因此默认阻止了 XSS 攻击。

没必要返回基本的 HTML 结构，可以返回一个你（或者其他人）创建的组件树。而这就是让 React 变得组件化 的特性：一个前端可维护性的关键原则。

`ReactDOM.render()`实例化根组件，启动框架，把标记注入到第二个参数指定的原生的 DOM 元素中。

`ReactDOM` 模块提供了一些 DOM 相关的方法，而 `React` 模块包含了 React 团队分享的不同平台上的核心工具（例如， [React Native](http://facebook.github.io/react-native/) ）。

重要的是`ReactDOM.render`保持在本教程的底部。`ReactDOM.render`只能在制作的组件定义之后被调用。
## 制作组件
让我们为 `CommentList` 和 `CommentForm` 搭建骨架，它们也是由一些简单的 `<div>` 组成。将这两个组件的代码添加到你的源码文件中，保留已有的 `CommentBox` 声明和 `ReactDOM.render` 调用：
```
// tutorial2.js
var CommentList = React.createClass({
  render: function() {
    return (
      <div className="commentList">
        Hello, world! I am a CommentList.
      </div>
    );
  }
});

var CommentForm = React.createClass({
  render: function() {
    return (
      <div className="commentForm">
        Hello, world! I am a CommentForm.
      </div>
    );
  }
});
```
接下来，更新 `CommentBox` 组件代码，使用新创建的组件：
```
// tutorial3.js
var CommentBox = React.createClass({
  render: function() {
    return (
      <div className="commentBox">
        <h1>Comments</h1>
        <CommentList />
        <CommentForm />
      </div>
    );
  }
});
```
注意我们是如何整合 HTML 标签和我们所创建的组件的。 HTML 组件就是普通的 React 组件，就和你定义的组件一样，只不过有一处不同。 JSX 编译器会自动重写 HTML 标签为 React.createElement(tagName) 表达式，其它什么都不做。这是为了避免全局命名空间污染。
### 使用属性（ props ）
让我们创建 `Comment` 组件，该组件依赖于从父级传入的数据。从父组件传入的数据会做为子组件的 属性（ property ） ，这些 属性（ properties ） 可以通过 `this.props` 访问到。使用属性（ props ），我们就可以读到从 `CommentList` 传到 `Comment` 的数据，然后渲染一些标记。
```
// tutorial4.js
var Comment = React.createClass({
  render: function() {
    return (
      <div className="comment">
        <h2 className="commentAuthor">
          {this.props.author}
        </h2>
        {this.props.children}
      </div>
    );
  }
});
```
在 JSX 中，通过使用大括号包住一个 JavaScript 表达式（例如作为属性或者子节点），你可以在树结构中生成文本或者 React 组件。我们通过 `this.props` 来访问传入组件的数据，键名就是对应的命名属性，也可以通过 `this.props.children` 访问组件内嵌的任何元素。
### 组件属性
现在我们定义了 `Comment` 组件，我们想传递给它作者名字和评论文本，以便于我们能够对每一个独立的评论重用相同的代码。首先让我们添加一些评论到 CommentList ：
```
// tutorial5.js
var CommentList = React.createClass({
  render: function() {
    return (
      <div className="commentList">
        <Comment author="Pete Hunt">This is one comment</Comment>
        <Comment author="Jordan Walke">This is *another* comment</Comment>
      </div>
    );
  }
});
```